BBB é uma placa de sistema embarcado desenvolvida para a comunidade de código aberto (\textit{open-source}), iniciantes e quaisquer pessoas interessadas em um sistema equipado com um processador ARM Cortex-A8 32-bits de baixo custo, seja para teste de conceito ou mesmo uso pessoal e profissional, embora o último não seja o mais adequado. Embora o sistema tenha sido desenvolvido com um número reduzido de funcionalidades, de modo a proporcionar uma experiência de uso simples, este SBC não é uma plataforma completa de desenvolvimento nem é voltada para o desenvolvimento de um produto específico, mas sim para a experimentação e aprendizado nas áreas de \textit{software} e \textit{hardware} \cite{bbb_srm}. A figura \ref{bbb} apresenta a placa e seus principais componentes, em conjunto com a tabela \ref{bbb_specs}, onde estão contidas as especificações gerais de hardware e a figura \ref{bbb-bdg}, na qual está contido um diagrama de blocos do sistema, de alto nível de abstração. O diagrama esquemático do sistema pode ser obtido no Anexo \ref{Anexo1}.

É imprescindível atentar para o fato de que a BBB possui diversas revisões de \textit{hardware}, sendo que a versão utilizada neste trabalho é a \textbf{revisão C}.

A combinação do processador ARM Cortex-A8 com o projeto de \textit{hardware} da placa possibilita o uso de um sistema operacional embarcado -- geralmente uma distribuição Linux -- que fornece facilidades de programação, a exemplo de uma IDE acessada pelo navegador da internet chamada Cloud9 em combinação com uma biblioteca de acesso ao hardware em \textit{server-side} Javascript (Node.js), possibilitando a prototipagem rápida de soluções embarcadas de produtos voltados ao mundo real. À medida que o desenvolvedor do sistema se torna mais experiente, é possível desenvolver soluções mais complicadas em diversas linguagens de programação, utilizando-se para isto do sistema operacional Linux embarcado na placa. \cite{bbb_nannan}. Além disso, projetos como o do carro de controle remoto via web, desenvolvido por \cite{bbb_nannan} com o intuito de confirmar as capacidades deste SBC e seu potencial uso no ensino de sistemas embarcados, reforçam a escolha da BBB como plataforma para este projeto. É importante notar que alguns dos pontos fortes deste SBC, ou computador de placa única, estão implícitos em sua classificação: por ser um computador, ele apresenta os benefícios de uma plataforma que suporta um universo de múltiplas aplicações --- embora restrito pelo reduzido poder de processamento se comparado a um computador tradicional --- e, no caso da escolha do Linux como sistema operacional, traz os benefícios de um \textit{kernel} amplamente estável. 

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.55]{./Resources/bbb-components.jpg}
	\captionsetup{justification=centering}
	\caption[BeagleBone Black e principais componentes]{BeagleBone Black e principais componentes. \\Fonte: COLEY (2014)
	}
	\label{bbb}
\end{figure}

\begin{itemize}
	\item \textbf{Sitara AM3358BZCZ100} - SoC (\textit{system on chip})
	\item \textbf{Micron 512MB DDR3L ou Kingston 512MB DDR3} - memória RAM
	\item \textbf{TPS65217C PMIC} - controlador de alimentação dos diferentes componentes do sistema
	\item \textbf{SMSC Ethernet PHY} - interface física à rede Ethernet
	\item \textbf{Micron eMMC} - memória não volátil MMC de 4GB
	\item \textbf{HDMI Framer} - controlador para uso com display HDMI ou DVI-D
\end{itemize}

\begin{center}
	\begin{table}[H]
		\captionsetup{justification=centering}
		\caption[Especificações Gerais da BeagleBone Black]{Especificações Gerais da BeagleBone Black. \\Fonte: adaptado de COLEY(2014)}
		\label{bbb_specs}
		\begin{tabular}{ | M{3cm} | M{12cm} |}
			\hline
			& \multicolumn{1}{|c|}{\textbf{Especificação}} \\ \hline
			Processador & Sitara AM3358BZCZ100, 1GHz, 2000 MIPS\\ \hline
			Motor Gráfico & SGX530 3D, 20M polígonos/s \\ \hline
			Memória SDRAM & 512MB DDR3L 800MHz \\ \hline
			Memória Flash & 4GB, 8bit eMMC \\ \hline
			CI Gerenciador de Alimentação & TPS65217C + regulador adicional (linear) \\ \hline
			Suporte a \textit{debug} & Interface serial, Conector CTI JTAG opcional de 20 pinos \\ \hline
			Fonte de Alimentação & mini USB, conector DC ou 5VDC na barra de pinos\\ \hline
			PCB & 8,64cm x 5,33cm (3,4" x 2,1") - 6 \textit{layers}\\ \hline
			Leds Indicadores & 1 para alimentação; 2 para Ethernet; 4 acessíveis ao usuário \\ \hline
			USB 2.0 \textit{Client} & Acesso à USB0 via miniUSB \\ \hline
			USB 2.0 \textit{Host} & Acesso à USB1, soquete tipo A, 500mA LS/FS/HS \\ \hline
			Serial & Acesso à UART0 via \textit{header} de 6 pinos, TTL 3.3V \\ \hline
			Ethernet & 10/100 RJ45 \\ \hline
			SD/MMC & Conector microSD, 3,3V \\ \hline
			Chaves & Botões push de reset, boot e alimentação \\ \hline
			Saída de vídeo & 16b HDMI, 1280x1024 (MAX), 1024x768, 1280x720, 1440x900, 1920x1080@24Hz \\ \hline
			Audio & Via interface HDMI, estéreo \\ \hline
			Conectores de expansão & Alimentação 5V, 3,3V e VDD\_ADC(1,8V) \newline 3,3V para todos os sinais de E/S \newline McASP0, SPI, I2C, até 69 pinos de GPIO, LCD, GPMC, MMC1, MMC2, 7 entradas para conversor A/D (1,8V MAX), 4 \textit{timers}, 4 UART, CAN, PWM via \textit{hardware}, interrupção XDMA\\ \hline
			Peso & 39,68g (1,4oz) \\ \hline
			Consumo@5VDC & Ocioso - 280mA \newline Carregando página web - 430mA \newline \*O consumo varia conforme o desempenho \\
			\hline
		\end{tabular}
	\end{table}
\end{center}

Cada pino de GPIO digital da BBB possui até 7 modos diferentes de operação, que são configurados utilizando uma ferramenta do Linux chamada \textit{Device Tree}. A figura \ref{bbb_pins_def} apresenta a configuração padrão dos pinos, ou seja, quando é usada a distribuição Debian do Linux, pré-compilada e que é fornecida com a placa. Com relação aos pinos de GPIO, é importante notar que sua lógica opera com níveis de tensão de 0V e 3,3V para os níveis baixo e alto, respectivamente e portanto aplicar uma tensão negativa ou superior a 3,3V pode danificar permanentemente a placa \cite{lumme}.

\newpage

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.80]{./Resources/bbb-blockDG.jpg}
	\captionsetup{justification=centering}
	\caption[Diagrama de blocos de alto nível da BeagleBone Black]{Diagrama de blocos de alto nível da BeagleBone Black. \\Fonte: COLEY (2014)
	}
	\label{bbb-bdg}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.80]{./Resources/bbb-pins-def.jpg}
	\captionsetup{justification=centering}
	\caption[Configuração padrão dos pinos da BeagleBone Black]{Configuração padrão dos pinos da BeagleBone Black. \\Fonte: Site oficial da Fundação BeagleBoard.org\protect\footnotemark
	}
	\label{bbb_pins_def}
\end{figure}

\footnotetext{Disponível em \url{http://beagleboard.org/Support/bone101}}

\subsection{\textit{Programmable Real-time Unit -- PRU-ICSS}}

A PRU-ICSS -- \textit{Programmable Real-Time Unit Subsystem and Industrial Communications Subsystem} (Unidade Programável de Tempo-Real e Subsistema de Comunicação Industrial, em tradução livre) é um subsistema do processador AM3358 que equipa a BBB, fabricado pela \textit{Texas Instruments}, embora não possua suporte oficial da mesma \cite{bbb_srm}. Em uma fase inicial de desenvolvimento do projeto, foi vislumbrado o uso desta unidade para implementação de um controlador de temperatura e, embora o desenvolvimento deste tenha sido interrompido, foi realizada uma revisão teórica da PRU, exposta no apêndice \ref{apendice_pru}.

\subsection{Configuração da BeagleBone Black}
\input{./Content/materiais/bbconf.tex}
