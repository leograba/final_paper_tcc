\chapter{Códigos-fonte da interface de usuário}
\label{Apêndice A}

Códigos em elaboração.

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\chapter{Scripts Python}
\label{codigos_python}

\section{Módulo com as funções para \textit{log} da temperatura}
\input{./SourceCodes/temp.py.tex}

\section{Script para plotagem de gráfico}
\input{./SourceCodes/grafico.py.tex}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\chapter{Códigos-fonte Node.js}
\label{codigos_nodejs}

\section{Código-fonte raiz da aplicação em Node.js}
\input{./SourceCodes/controle.tex}

\section{Módulo de gerenciamento de GPIO e PWM}
\input{./SourceCodes/gpio_cfg.tex}

\section{Módulo de roteamento do servidor web}
\input{./SourceCodes/routes.tex}

\section{Módulo de registros e verificações em geral}
\input{./SourceCodes/log_check_misc.tex}

\section{Módulo de controle do processo de brassagem}
\input{./SourceCodes/ctrl.tex}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\chapter{Arquivos de configuração do sistema}
\label{Apêndice B}

\section{Arquivo de configuração de rede}
\input{./SourceCodes/etc-network-interfaces.tex}

\section{Device Tree para o DS18B20}
\label{ap3ds18b20}
\input{./SourceCodes/w1.dts.tex}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\chapter{Cálculo de OG e IBU de uma receita de cerveja}
\label{Apêndice C}

Neste apêndice é apresentado o cálculo da gravidade original (OG) e do amargor (IBU) de uma receita de cerveja, baseado em \cite{palmer}. Em primeiro lugar, é importante salientar que o cálculo da OG e do IBU dependem fortemente de dados do equipamento de produção de cerveja e/ou de constantes levantadas empiricamente, o que significa que este roteiro deve ser visto como um guia e, portanto, na necessidade de obter dados exatos, medições feitas por laboratórios especializados são necessárias.

Primeiramente é preciso calcular as unidades de ácidos alfa, que é um meio para quantificar a contribuição de amargor independentemente do tipo de lúpulo. Para isto, o peso em onças é multiplicado pela porcentagem de ácidos alfa, medida em laboratório e fornecida pelo fabricante. A fórmula para cálculo de AAU é apresentada na equação \ref{eq_aau}. Outra aplicação interessante é quando uma variaedade específica de lúpulo tem sua porcentagem de ácidos alfa diferente em anos diferentes: neste caso, sabendo a AAU da receita original, é fácil recalcular a massa necessária para adequar a receita às novas especificações.

\begin{equation}
	\label{eq_aau}
	AAU = w\cdot aa
\end{equation}

Outro parâmetro de padronização de uma cerveja é a gravidade original, que nada mais é do que a densidade do mosto após o cozimento dos grãos. Ela é baseada nos pontos de contribuição ($pts$) de cada malte, ou seja, uma transformação numérica da gravidade original do malte, que quantifica a contribuição de açúcares do malte em questão para o mosto e indicada em $g/cm^3$. O valor da gravidade original do malte é fornecido pelo fabricante geralmente em pontos, mas a equação \ref{eq_pontos} expressa o cálculo a partir do valor da densidade. Com isso é possível calcular a gravidade original do mosto, conforme descrito na equação \ref{eq_ograv}, na qual $n$ é o número de maltes empregados na receita, $\eta$ é a eficiência do equipamento, ou capacidade de extração de açúcares fermentáveis dos grãos para o mosto e V é o volume final de cerveja. Observe-se que o volume é expresso em galões e a massa em onças.

\begin{equation}
	\label{eq_pontos}
	pts_{malte} = (1-OG_{malte})\cdot 1000
\end{equation}

%How to Brew pg ~164 e pg ~59
\begin{equation}
	\label{eq_ograv}
	OG = \left\{\left[\displaystyle\sum_{n} (pts_n\cdot w_n)\right]\cdot \frac{\eta}{1000\cdot V}\right\} + 1
\end{equation}

A utilização é um dos fatores mais críticos para o cálcula adequado da quantidade de IBU da cerveja. Ela é uma função da OG e do tempo de fervura. Uma vez que seu valor é fortemente dependente do vigor da fervura, da química do mosto e de outros parâmetros difíceis de quantificar, valores empíricos de constantes são empregados como um ponto de estimação de IBU --- embora com o tempo o operador do equipamento deva fazer um ajuste fino destas constantes para aumentar a precisão do cálculo. O cálculo da utilização $u$ é apresentado no conjunto de equações \ref{eq_utilizacao}.

\begin{subequations}
	\label{eq_utilizacao}
	\begin{align}
		&u = f(OG)\cdot f(t), \quad onde:\\
		&f(OG) =  1,65\cdot 0,000125^{(OG-1)}\\
		&f(t) = \frac{1-\epsilon^{-0,04t}}{4,15}
	\end{align}
\end{subequations}

Finalmente, é possível calcular a quantidade de amargor da cerveja usando a fórmula \ref{eq_ibu}, na qual V é o volume final da produção expresso em galões e 74,89 é o fator de conversão de onças por galão para miligramas por litro, unidade do IBU.

\begin{equation}
	\label{eq_ibu}
	IBU = \frac{AAU\cdot u\cdot 74,89}{V}
\end{equation}

\section{Estimação do IBU para uma receita de 20l}

Para saber se 400g de lúpulos são suficientes para uma receita de 20 litros, foi feito um cálculo hipotético considerando situações extremas: densidade original alta ($1,120g/cm^3$), tempo de fervura alto (120min), lúpulo nobre (baixo teor de ácidos alfa = 5\%):

\begin{subequations}
	\label{eq_utilizacao}
	\begin{align}
		&AAU = (400\cdot 0,035274)\cdot 5,0 = 70,55 \nonumber\\
		&f(OG) =  1,65\cdot 0,000125^{(1,12-1,00)} = 0,56 \nonumber\\
		&f(t) = \frac{1-\epsilon^{-0,04\cdot 120}}{4,15} = 0,24 \nonumber\\
		&u = 0,56\cdot 0,24 = 0,135 \nonumber\\
		&IBU = \frac{70,55\cdot 0,135\cdot 74,89}{20\cdot 0,264} = 135 mg/l \nonumber
	\end{align}
\end{subequations}

Considerando o guia do BJCP (Beer Judge Certification Program), que é adotado por profissionais ao redor de todo o mundo para participarem de competições de cervejas como juízes, os dois estilos de cerveja com maior amargor são \textit{Imperial India Pale Ale} e \textit{American Barley Wine}, ambos com limite superior de 120 IBU \cite{styles_ibu} e o livro \textit{How to Brew} que descreve somente um estilo com mais de 120 IBU --- justamente o \textit{American Barley Wine} --- é razoável assumir que raramente será necessário operar a estrutura de adição de lúpulos em sua capacidade máxima.

\chapter{Análise do tempo de leitura do sensor DS18B20 em Python}
\label{analise_tread_temp}
